\documentclass[10pt,letterpaper]{article}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{courier}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{microtype}
%\usepackage[T1]{fontenc}
%\renewcommand\tabularxcolumn[1]{m{#1}}% vertically center
\newcolumntype{Y}{>{\raggedright\arraybackslash}X} % A regular tabularx column but left justified instead of full justified.
% -------------------------------------------------------
% FROM https://tex.stackexchange.com/questions/348651/c-code-to-add-in-the-document
\usepackage{listings}
\usepackage{xcolor}
\definecolor{mGreen}{rgb}{0,0.6,0}
\definecolor{mGray}{rgb}{0.5,0.5,0.5}
\definecolor{mPurple}{rgb}{0.58,0,0.82}
\definecolor{backgroundColour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{CStyle}{
    commentstyle=\color{mGreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{mGray},
    stringstyle=\color{mPurple},
    basicstyle=\footnotesize\ttfamily,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,       
    keepspaces=true,
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
    language=C
}

\lstset{style=CStyle}
% -------------------------------------------------------
%\usepackage[left=2cm,right=2cm,top=2cm,bottom=2cm]{geometry}

% BUG REPORT TEMPLATE -----------------------------------
%\begin{tabularx}{\textwidth}{rY}
%\toprule
%File & •\\
%Line & •\\
%Description & •\\
%Number of Configurations & •\\
%\midrule
%\multicolumn{2}{c}{Code Sample} \\
%\multicolumn{2}{l}{\lstinputlisting{code/•}} \\
%\midrule
%Status & •\\
%Remarks & •\\
%\bottomrule
%\end{tabularx}
% -------------------------------------------------------
\title{Toybox Bug Analysis}
\author{Austin Mordahl}
\begin{document}
\maketitle

\noindent These bugs were generated by Cppcheck 1.72 and Toybox 0.7.5.
Bug reports are classified into the following categories:

\begin{center}
\noindent\begin{tabularx}{0.75\textwidth}{rX}
\toprule
False & A bug cppcheck finds which, upon further inspection, does not exist in the code. For example, cppcheck indicating a variable is passed to a function without being initialized, when the variable is actually an out parameter and intialized within the function.\\
\midrule
Technically True & A bug for which the content of the cppcheck bug report is true, but whose existence is intended. The difference between a False and Technically True bug report is that the former could theoretically be detected by a more sophisticated implementation of cppcheck. \\
\midrule
True & A bug which exists and 1) its existence is unintended, or 2) whether or not its existence is purposeful is undetermined. \\
\bottomrule
\end{tabularx}
\end{center}

\pagebreak
\noindent\begin{tabularx}{\textwidth}{rY}
\toprule
File & blockdev.c \\
Line & 60 \\
Description & Array \texttt{cmds[11]} accessed at index 31, which is out of bounds.\\
Number of Configurations & 482 \\
\midrule
\multicolumn{2}{c}{Code Sample} \\
\multicolumn{2}{l}{\lstinputlisting{code/blockdev_blockdev_main.c}} \\
\midrule
Status & True\footnote{This seems suspiciously obvious; I need to run more tests to determine whether this is correct under some binary magic the program is doing.} \\
Remarks & \texttt{cmd[]} is defined as an integer array of size 11. By using a loop that iterates through the number 31 to access the loop, the program is exceeding the bounds of the array. \\
\bottomrule
\end{tabularx}

\pagebreak

\begin{tabularx}{\textwidth}{rY}
\toprule
File & netstat.c\\
Line & 118\\
Description & {Resource leak: \texttt{fp}}\\
Number of Configurations & {515}\\
\midrule
\multicolumn{2}{c}{Code Sample} \\
\multicolumn{2}{l}{\lstinputlisting{code/netstat_show_ip.c}} \\
\midrule
Status & True\\
Remarks & \texttt{fp} is not closed before the function returns.\\
\bottomrule
\end{tabularx}

\pagebreak	

\noindent\begin{tabularx}{\textwidth}{rY}
\toprule
File & cmp.c \\
Line & 83 \\
Description & Signed integer overflow for expression \texttt{(2147483648)*!(toys.optflags\&(1))}. \\
Number of Configurations & 501 \\
\midrule
\multicolumn{2}{c}{Code Sample} \\
\multicolumn{2}{l}{\lstinputlisting{code/cmp_cmp_main.c}} \\
\midrule 
Status & True (further study required)\\
Remarks & The multiplication of the flags will cause integer overflow. Whether or not this behavior is intended will require further investigation.\\
\bottomrule
\end{tabularx}

\pagebreak

\noindent\begin{tabularx}{\textwidth}{rY}
\toprule
File & lsm.h \\
Line & 63 \\
Description & Uninitialized variable: result \\
Number of Configurations & 432\footnote{The actual cppcheck bug reports listed various C source code files which included this header as the source of the bug, even though \texttt{lsm.h} was the actual source. This is the number of total occurrences of the bug across multiple files.}\\
\midrule
\multicolumn{2}{c}{Code Sample} \\
\multicolumn{2}{l}{\lstinputlisting{code/lsm_h_lsm_context.c}}\\
\midrule
Status & False\\
Remarks & In configurations including \texttt{TOYBOX\_SMACK} and \texttt{TOYBOX\_SELINUX} \texttt{smack\_new\_label\_from\_self} and \texttt{getcon} are replaced with the value -1, respectively. In other configurations, \texttt{*result} is an out parameter. \\
\bottomrule
\end{tabularx}

\pagebreak

\noindent\begin{tabularx}{\textwidth}{rY}
\toprule
File & base64.c\\
Line & 35\\
Description & Expression \texttt{`this.base64.columns\&\&++*x == this.base64.columns'} \\ & depends on order of evaluation of side effects. \\
Number of Configurations & 478 \\
\midrule
\multicolumn{2}{c}{Code Sample} \\
\multicolumn{2}{l}{\lstinputlisting[firstline=31,lastline=39]{code/base64.c}} \\
\midrule
Status & False\\
Remarks & Although \texttt{TT.columns} appears twice in the same expression, it is modified neither time. Thus, the order of evaluation of side effects does not matter. \\
\bottomrule
\end{tabularx}

\pagebreak

\noindent\begin{tabularx}{\textwidth}{rY}
\toprule
File & chvt.c \\
Line & 24 \\
Description & Uninitialized variable: \texttt{fd} \\
Number of Configurations & 512 \\
\midrule
\multicolumn{2}{c}{Code Sample} \\
\multicolumn{2}{l}{\lstinputlisting{code/chvt_chvt_main.c}} \\
\midrule
Status & Technically True \\
Remarks & The self-assignment \texttt{fd=fd} is likely purposeful, as a method to suppress compiler warnings about an unused variable \texttt{fd} before the rest of \texttt{chvt\_main} was written to use \texttt{fd}. However, cppcheck is correct in that \texttt{fd\= fd} is an assignment of the value of an uninitialized variable.\\
\bottomrule
\end{tabularx}

\pagebreak


\begin{tabularx}{\textwidth}{rY}
\toprule
File & date.c \\
Line & 137 \\
Description & Uninitialized variable: \texttt{width}\\
Number of Configurations & 511 \\
\midrule
\multicolumn{2}{c}{Code Sample} \\
\multicolumn{2}{l}{\lstinputlisting{code/date_puts_time.c}} \\
\midrule
Status & Technically True \\
Remarks & See the report for \texttt{chvt.c:24}.\\
\bottomrule
\end{tabularx}

\pagebreak

\begin{tabularx}{\textwidth}{rY}
\toprule
File & hwclock.c\\
Line & 89\\
Description & Uninitialized variable: s\\
Number of Configurations & 466\\
\midrule
\multicolumn{2}{c}{Code Sample} \\
\multicolumn{2}{l}{\lstinputlisting{code/hwclock_hwclock_main.c}} \\
\midrule
Status & Technically True\\
Remarks & See the report for \texttt{chvt.c:24}.\\
\bottomrule
\end{tabularx}

\pagebreak

\begin{tabularx}{\textwidth}{rY}
\toprule
File & losetup.c\\
Line & 64\\
Description & Uninitialized variable: ffd\\
Number of Configurations & 531\\
\midrule
\multicolumn{2}{c}{Code Sample} \\
\multicolumn{2}{l}{\lstinputlisting{code/losetup_loopback_setup.c}} \\
\midrule
Status & Technically True\\
Remarks & See the report for \texttt{chvt.c:24}.\\
\bottomrule
\end{tabularx}

\pagebreak

\begin{tabularx}{\textwidth}{rY}
\toprule
File & switch\_root.c\\
Line & 49\\
Description & Uninitialized variable: \texttt{console}\\
Number of Configurations & 486\\
\midrule
\multicolumn{2}{c}{Code Sample} \\
\multicolumn{2}{l}{\lstinputlisting{code/switch_root_switch_root_main.c}} \\
\midrule
Status & Technically True\\
Remarks & See the report for \texttt{chvt.c:24}.\\
\bottomrule
\end{tabularx}

\pagebreak

\begin{tabularx}{\textwidth}{rY}
\toprule
File & tail.c\\
Line & 188\\
Description & Memory is allocated but not initialized: \texttt{try}\\
Number of Configurations & 655\\
\midrule
\multicolumn{2}{c}{Code Sample} \\
\multicolumn{2}{l}{\lstinputlisting{code/tail_do_tail.c}}\\
\midrule
Status & False\\
Remarks & The \texttt{for} loop causing cppcheck to give a warning is actually only testing \texttt{try[count]} for equality.\\
\bottomrule
\end{tabularx}

\pagebreak

\begin{tabularx}{\textwidth}{rY}
\toprule
File & uudecode.c\\
Line & 29\\
Description & Uninitialized variable: \texttt{m}\\
Number of Configurations & 485\\
\midrule
\multicolumn{2}{c}{Code Sample} \\
\multicolumn{2}{l}{\lstinputlisting{code/uudecode_uudecode_main.c}} \\
\midrule
Status & Technically True\\
Remarks & See the report for \texttt{chvt.c:24}.\\
\bottomrule
\end{tabularx}

\pagebreak

\begin{tabularx}{\textwidth}{rY}
\toprule
File & vmstat.c\\
Line & 508\\
Description & Uninitialized variable: \texttt{name}\\
& Uninitialized variable: \texttt{p}\\
Number of Configurations & 508\\
\midrule
\multicolumn{2}{c}{Code Sample} \\
\multicolumn{2}{l}{\lstinputlisting{code/vmstat_get_vmstat_proc.c}}\\
\midrule
Status & Technically True\\
Remarks & See the report for \texttt{chvt.c:24}.\\
\bottomrule
\end{tabularx}

\end{document}